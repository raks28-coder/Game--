<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Voldemort Vigil</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@700&display=swap" rel="stylesheet">
  
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: url("https://wallpapers.com/images/featured/harry-potter-desktop-background-vtho1d6dbpcfzv5v.jpg") no-repeat center center/cover;
      font-family: "Poppins", sans-serif;
    }

    /* Login Page */
    #login-page {
      background: rgba(0, 0, 0, 0.8);
      padding: 40px;
      border-radius: 15px;
      text-align: center;
      width: 350px;
      box-shadow: 0 0 25px rgba(255, 215, 0, 0.7);
    }
    #login-page h1 {
      font-family: "Cormorant Garamond", serif;
      font-size: 3rem;
      color: gold;
      margin-bottom: 20px;
      text-shadow: 2px 2px 8px black;
    }
    #login-page input {
      width: 90%;
      padding: 12px;
      margin: 10px 0;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
    }
    #login-page button {
      width: 100%;
      padding: 14px;
      margin-top: 15px;
      border: none;
      border-radius: 10px;
      background: gold;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }
    #login-page button:hover {
      background: orange;
      transform: scale(1.05);
    
    }

    /* Game Page */
    #game-page {
      display: none;
      flex-direction: column;
      align-items: center;
      text-align: center;
      width: 100%;
      height: 100%;
      padding: 20px;
      background: rgba(0,0,0,0.75);
      color: white;
    }

    .stats {
      margin: 15px;
      font-size: 1.3rem;
      font-weight: bold;
    }
    .controls {
      margin: 10px;
    }
    #grid {
      display: grid;
      grid-template-columns: repeat(3, 120px);
      grid-gap: 15px;
      margin-top: 20px;
    }
    .hole {
      width: 120px;
      height: 120px;
      background: rgba(255,255,255,0.2);
      border-radius: 15px;
      position: relative;
      overflow: hidden;
    }
    .target {
      width: 100px;
      height: 100px;
      position: absolute;
      bottom: -120px;
      left: 50%;
      transform: translateX(-50%);
      cursor: pointer;
      transition: bottom 0.3s;
    }
    .target.rise {
      bottom: 10px;
    }
    .target.fall {
      bottom: -120px;
    }
    #toast {
      position: fixed;
      bottom: 20px;
      background: gold;
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: bold;
      display: none;
    }
    #toast.show {
      display: block;
    
    }
  </style>
</head>
<body>
  <!-- Login Page -->
  <div id="login-page">
    <h1>Voldemort Vigil</h1>
    <form onsubmit="event.preventDefault(); startGamePage();">
      <input type="text" placeholder="Enter Username" required><br>
      <input type="password" placeholder="Enter Password" required><br>
      <button type="submit">Login</button>
    </form>
  </div>

  <!-- Game Page -->
  <div id="game-page">
    <div class="stats">
      <span>Score: <span id="score">0</span></span> |
      <span>Time: <span id="time">30</span>s</span> |
      <span>Combo: <span id="combo">0</span></span> |
      <span>Best: <span id="best">0</span></span>
    </div>
    <div class="controls">
      <button id="startBtn">Start</button>
      <button id="pauseBtn">Pause</button>
      <button id="soundBtn">Music</button>
      <select id="difficulty">
        <option value="easy">Easy</option>
        <option value="normal" selected>Normal</option>
        <option value="hard">Hard</option>
        <option value="insane">Insane</option>
      </select>
    </div>
    <div id="grid"></div>
    <div id="toast">✨ Patronus Activated! Double Points ✨</div>
    <audio id="bgMusic" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop></audio>
  </div>

  <script>
    // Switch from Login to Game
    function startGamePage(){
      document.getElementById("login-page").style.display="none";
      document.getElementById("game-page").style.display="flex";
    }

    const grid = document.getElementById("grid");
    const scoreEl = document.getElementById("score");
    const timeEl = document.getElementById("time");
    const comboEl = document.getElementById("combo");
    const bestEl = document.getElementById("best");
    const startBtn = document.getElementById("startBtn");
    const pauseBtn = document.getElementById("pauseBtn");
    const soundBtn = document.getElementById("soundBtn");
    const difficultySel = document.getElementById("difficulty");
    const bgMusic = document.getElementById("bgMusic");
    const toast = document.getElementById("toast");

    let score=0,time=30,combo=0,best=0;
    let gameTimer,spawnTimer,paused=false,patronus=false;
    let spawnRate=1200,stayTime=800;

    const levels = {
      easy:   { spawn: 1500, stay: 1200 },
      normal: { spawn: 1200, stay: 800 },
      hard:   { spawn: 800,  stay: 600 },
      insane: { spawn: 500,  stay: 450 }
    };

    // Holes
    for (let i=0;i<9;i++){
      let hole=document.createElement("div");
      hole.className="hole";
      grid.appendChild(hole);
    }

    function startGame(){
      reset();
      updateDifficulty();
      gameTimer=setInterval(()=>{
        if(!paused){
          time--;
          timeEl.textContent=time;
          if(time<=0) endGame();
        }
      },1000);
      spawnTimer=setInterval(()=>{ if(!paused) spawnTarget(); },spawnRate);
    }

    function reset(){
      score=0;time=30;combo=0;
      scoreEl.textContent=score;
      timeEl.textContent=time;
      comboEl.textContent=combo;
      clearInterval(gameTimer);clearInterval(spawnTimer);
    }

    function spawnTarget(){
      const holes=document.querySelectorAll(".hole");
      let hole=holes[Math.floor(Math.random()*holes.length)];
      let target=document.createElement("img");
      target.src= Math.random()<0.75 ? 
        "https://png.pngtree.com/png-vector/20240724/ourmid/pngtree-harry-potter-a-stack-of-books-png-image_12786717.png" : 
        "https://png.pngtree.com/png-vector/20230809/ourmid/pngtree-sticker-of-a-star-wars-character-with-a-mask-and-cape-vector-png-image_6836610.png";
      target.className="target rise";
      hole.appendChild(target);
      target.addEventListener("click",()=>hit(target));
      setTimeout(()=>{
        target.classList.remove("rise");
        target.classList.add("fall");
        setTimeout(()=>target.remove(),350);
      },stayTime);
    }

    function hit(target){
      if(target.src.includes("975517-middle.png")){
        score+= patronus?2:1;
        combo++;
        if(combo%5===0) activatePatronus();
      } else {
        score--;combo=0;
      }
      scoreEl.textContent=score;
      comboEl.textContent=combo;
      target.remove();
    }

    function endGame(){
      clearInterval(gameTimer);clearInterval(spawnTimer);
      if(score>best){best=score;bestEl.textContent=best;}
      alert("Game Over! Your Score: "+score);
    }

    function updateDifficulty(){
      let diff=difficultySel.value;
      spawnRate=levels[diff].spawn;
      stayTime=levels[diff].stay;
    }

    function activatePatronus(){
      patronus=true;
      toast.classList.add("show");
      setTimeout(()=>{
        patronus=false;
        toast.classList.remove("show");
      },5000);
    }

    // Controls
    startBtn.onclick=startGame;
    pauseBtn.onclick=()=>{paused=!paused;};
    soundBtn.onclick=()=>{ if(bgMusic.paused) bgMusic.play(); else bgMusic.pause(); };
  </script>
</body>
</html>
